function refresca(){loadgrid()}function hexDraw(){function e(e){var t=face;return console.log("hoverSet"),e===!0?function(){t.animate({fill:red,opacity:.5},100),t[0].animate({fill:red,opacity:.5},100),t[1].animate({fill:red,opacity:.5},100),t[2].animate({fill:red,opacity:.5},100),t[3].animate({fill:red,opacity:.5},100),t[4].animate({fill:red,opacity:.5},100),t[5].animate({fill:red,opacity:.5},100)}:e===!1?function(){t.animate({fill:offWhite,opacity:.3},100),t[0].animate({fill:offWhite,opacity:.5},100),t[1].animate({fill:offWhite,opacity:.5},100),t[2].animate({fill:offWhite,opacity:.5},100),t[3].animate({fill:offWhite,opacity:.5},100),t[4].animate({fill:offWhite,opacity:.5},100),t[5].animate({fill:offWhite,opacity:.5},100)}:void 0}if(requestAnimationFrame(hexDraw),1===beforeClone){console.log("ALERT: rest:");var t=$(".gridlet").not(".used");t.html(masterClone),t.addClass("used")}else{console.log("ALERT: init:");var t=$(".gridlet").not(".used").eq(0);t.addClass("used"),paper=Raphael(t.get(0),60,52),face=paper.set(),face.push(paper.path("M 14.334,3.842 22.969,9.069 10.21,30.693 1.575,25.467 z").attr({opacity:0}),paper.path("M 39.062,3.842 47.697,9.069 22.969,9.069 14.334,3.842 z").attr({opacity:0}),paper.path("M 39.062,3.842 47.697,9.069 59.666,30.693 51.031,25.467 z").attr({opacity:0}),paper.path("M 51.031,25.467 59.666,30.693 46.908,52.318 38.273,47.092 z").attr({opacity:0}),paper.path("M 38.273,47.092 46.908,52.318 22.18,52.318 13.544,47.092 z").attr({opacity:0}),paper.path("M 1.575,25.467 10.21,30.693 22.18,52.318 13.544,47.092 z").attr({opacity:0}),paper.path("M39.209,3.6L14.196,3.6,1.292,25.467,13.398,47.343,38.411,47.343,51.315,25.466z",0,0).toFront()),face.attr({fill:offWhite,stroke:white}),face.hover(e(!0),e(!1)),beforeClone=1,masterClone=t.html()}}function loadgrid(){function e(){t.gridlet.rows=$(".loader .gridlet .row"),t.gridlet.cols=$(".loader .gridlet .col"),t.gridlet.width=t.gridlet.dimensionX,t.gridlet.height=t.gridlet.dimensionY,t.projectX=Math.ceil(t.width/t.gridlet.dimensionX)+10,t.projectY=Math.ceil(t.height/t.gridlet.dimensionY)+10;for(var e=0;e<t.projectY;e++)for(var i=0;i<=t.projectX;i++){var a=t.gridlet.clone();a.css({left:.75*t.gridlet.width*i+"px",top:(e+(i%2?.5:0))*t.gridlet.height+"px"}).appendTo(".loader").addClass("col "+t.randy)}$(".loader").animate({opacity:1},function(){$(".gridlet").not($(".col ."+t.randy).remove())})}var t=$(".loader");t.randy=Math.floor(1e5*Math.random()+1),$(".gridlet").not($(".col ."+t.randy)).fadeOut("fast"),t.height=t.height(),t.width=t.width(),t.gridlet=$('<div class="gridlet col row"></div>'),t.gridlet.dimensionX=50,t.gridlet.dimensionY=44,$(".gridlet").length<1?($(".loader").html(t.gridlet),e()):$(".loader").animate({opacity:1},function(){e()})}var black="#FFFCE2",offBlack="#EBD2B5",white="#122430",offWhite="#273E45",red="#E63531",beforeClone=0,masterClone,face;$(document).ready(function(){loadgrid();var e;$(window).resize(function(){clearTimeout(e),e=setTimeout(refresca,400)})}),$(window).load(function(){hexDraw(),console.log("done.")});